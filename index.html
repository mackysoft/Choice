<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Choice - Weighted Random Selector | Choice </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Choice - Weighted Random Selector | Choice ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="choice---weighted-random-selector">Choice - Weighted Random Selector</h1>

<p><strong>Created by Hiroya Aramaki (<a href="https://twitter.com/makihiro_dev">Makihiro</a>)</strong></p>
<p><a href="https://github.com/mackysoft/Choice/actions/workflows/tests.yaml"><img src="https://github.com/mackysoft/Choice/actions/workflows/tests.yaml/badge.svg" alt="Tests"></a> <a href="https://github.com/mackysoft/Choice/actions/workflows/build.yaml"><img src="https://github.com/mackysoft/Choice/actions/workflows/build.yaml/badge.svg" alt="Build"></a> <a href="https://github.com/mackysoft/Choice/releases"><img src="https://img.shields.io/github/v/release/mackysoft/Choice" alt="Release"></a> <a href="https://openupm.com/packages/com.mackysoft.choice/"><img src="https://img.shields.io/npm/v/com.mackysoft.choice?label=openupm&amp;registry_uri=https://package.openupm.com" alt="openupm"></a></p>
<h2 id="what-is-weighted-random-selector-">What is Weighted Random Selector ?</h2>
<p>Weighted Random Selector is an algorithm for randomly selecting elements based on their weights.</p>
<p>For example.</p>
<ul>
<li>Drop items based on rarity.</li>
<li>Events that occur with a certain probability</li>
</ul>
<p>It can be used to determine things with probability.</p>
<p>Choice is a library that was created to make it easier to implement.</p>
<pre><code class="lang-cs">// This is the simplest usage.
var randomSelectedItem = items
    .ToWeightedSelector(item =&gt; item.weight)
    .SelectItemWithUnityRandom();
</code></pre><p>Great introduction article on Weighted Random Select: <a href="https://blog.bruce-hill.com/a-faster-weighted-random-choice">https://blog.bruce-hill.com/a-faster-weighted-random-choice</a></p>
<h2 id="a-idindex-hrefindex-table-of-contents-a"><a id="index" href="#index"> Table of Contents </a></h2>
<ul>
<li><a href="#installation">📥 Installation</a></li>
<li><a href="#usage">🔰 Usage</a><ul>
<li><a href="#toweightedselector-overloads">ToWeightedSelector Overloads</a><ul>
<li><a href="#from-weighted-entry">from weighted entry pattern</a></li>
<li><a href="#from-weighted-item">from weighted item pattern</a></li>
<li><a href="#from-dictionary">from Dictionary&lt;Item,float&gt; pattern</a></li>
</ul>
</li>
<li><a href="#linq">LINQ</a></li>
<li><a href="#algorithms">Algorithms</a><ul>
<li><a href="#linear-scan">Linear Scan</a></li>
<li><a href="#binary-search">Binary Search</a></li>
<li><a href="#alias-method">Alias Method</a></li>
<li><a href="#speed-measurement">Speed Measurement</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#author-info">📔 Author Info</a></li>
<li><a href="#license">📜 License</a></li>
</ul>
<h1 id="a-idinstallation-hrefinstallation--installation-a"><a id="installation" href="#installation"> 📥 Installation </a></h1>
<p>Download any version from releases.</p>
<p>Releases: <a href="https://github.com/mackysoft/Choice/releases">https://github.com/mackysoft/Choice/releases</a></p>
<h3 id="install-via-git-url">Install via git URL</h3>
<p>Or, you can add this package by opening PackageManager and entering</p>
<p><code>https://github.com/mackysoft/Choice.git?path=Assets/MackySoft/MackySoft.Choice</code></p>
<p>from the <code>Add package from git URL</code> option.</p>
<h3 id="install-via-open-upm">Install via Open UPM</h3>
<p>Or, you can install this package from the <a href="https://openupm.com/packages/com.mackysoft.choice/">Open UPM</a> registry.</p>
<p>More details <a href="https://openupm.com/">here</a>.</p>
<pre><code>openupm add com.mackysoft.choice
</code></pre><h1 id="a-idusage-hrefrequirements--usage-a"><a id="usage" href="#requirements"> 🔰 Usage </a></h1>
<pre><code class="lang-cs">// To use Choice, add this namespace.
using MackySoft.Choice;

public class WeightedItem {
    public string id;
    public float weight;
}

public WeightedItem SelectItem () {
    // Prepare weighted items.
    var items = new WeightedItem[] {
        new WeightedItem { id = &quot;🍒&quot;, weight = 8f },
        new WeightedItem { id = &quot;🍏&quot;, weight = 4f },
        new WeightedItem { id = &quot;🍍&quot;, weight = 0f },
        new WeightedItem { id = &quot;🍇&quot;, weight = 6f },
        new WeightedItem { id = &quot;🍊&quot;, weight = -1f }
    };

    // Create the WeightedSelector.
    var weightedSelector = items.ToWeightedSelector(item =&gt; item.weight);

    // The probability of each item being selected,
    // 🍒 is 44%, 🍏 is 22%, and 🍇 is 33%.
    // 🍍 and 🍊 will never be selected because their weights are less or equal to 0.
    return weightedSelector.SelectItemWithUnityRandom();
    // Same as weightedSelector.SelectItem(UnityEngine.Random.value);
}
</code></pre><h2 id="a-idtoweightedselector-overloads-hreftoweightedselector-overloads-toweightedselector-overloads--a"><a id="toweightedselector-overloads" href="#toweightedselector-overloads"> <code>ToWeightedSelector</code> Overloads  </a></h2>
<p>The <code>ToWeightedSelector</code> method has many overloads and can be used for a variety of patterns.</p>
<h3 id="a-idfrom-weighted-entry-hreffrom-weighted-entry-from-weighted-entry-pattern-a"><a id="from-weighted-entry" href="#from-weighted-entry"> from weighted entry pattern </a></h3>
<pre><code class="lang-cs">public struct ItemEntry {
    public Item item;
    public float weight;
}

public IWeightedSelector&lt;Item&gt; WeightedEntryPattern () {
    var entries = new ItemEntry[] {
        new ItemEntry { item = new Item { id = &quot;🍒&quot; }, weight = 1f },
        new ItemEntry { item = new Item { id = &quot;🍏&quot; }, weight = 5f },
        new ItemEntry { item = new Item { id = &quot;🍍&quot; }, weight = 3f }
    };

    // Create a WeightedSelector by selecting item and weight from entry respectively.
    return entries.ToWeightedSelector(
        itemSelector: entry =&gt; entry.item,
        weightSelector: entry =&gt; entry.weight
    );
}
</code></pre><h3 id="a-idfrom-weighted-item-hreffrom-weighted-item-from-weighted-item-pattern-a"><a id="from-weighted-item" href="#from-weighted-item"> from weighted item pattern </a></h3>
<pre><code class="lang-cs">public class WeightedItem {
    public string id;
    public float weight;
}

public IWeightedSelector&lt;WeightedItem&gt; WeightedItemPattern () {
    var items = new WeightedItem[] {
        new WeightedItem { id = &quot;🍒&quot;, weight = 1f },
        new WeightedItem { id = &quot;🍏&quot;, weight = 5f },
        new WeightedItem { id = &quot;🍍&quot;, weight = 3f }
    };

    // Create a WeightedSelector using the weight of the WeightedItem.
    return fromWeightedItem = items.ToWeightedSelector(weightSelector: item =&gt; item.weight);
}
</code></pre><h3 id="a-idfrom-dictionary-hreffrom-dictionary-from-dictionarytitemfloat-pattern-a"><a id="from-dictionary" href="#from-dictionary"> from <code>Dictionary&lt;TItem,float&gt;</code> pattern </a></h3>
<pre><code class="lang-cs">public class Item {
    public string id;
}

public IWeightedSelector&lt;Item&gt; DictionaryPattern () {
    // This need a Dictionary&lt;TItem,float&gt;. (Strictly speaking, IEnumerable&lt;KeyValuePair&lt;TItem,float&gt;&gt;)
    var dictionary = new Dictionary&lt;Item,float&gt;(
        { new Item { id = &quot;🍒&quot; }, 1f },
        { new Item { id = &quot;🍏&quot; }, 5f },
        { new Item { id = &quot;🍍&quot; }, 3f }
    );

    // Create a WeightedSelector with the dictionary key as item and value as weight.
    return dictionary.ToWeightedSelector();
}
</code></pre><h2 id="a-idlinq-hreflinq-linq-a"><a id="linq" href="#linq"> LINQ </a></h2>
<p>Since the <code>ToWeightedSelector</code> method is defined as an extension of <code>IEnumerable&lt;T&gt;</code>, it can be connected from the LINQ query operators.</p>
<pre><code class="lang-cs">var randomSelectedItem = items
    .Where(item =&gt; item != null) // null check
    .ToWeightedSelector(item =&gt; item.weight)
    .SelectItemWithUnityRandom();
</code></pre><h2 id="a-idalgorithms-hrefalgorithms-algorithms-a"><a id="algorithms" href="#algorithms"> Algorithms </a></h2>
<p>When creating a WeightedSelector, you can specify the <code>IWeightedSelectMethod</code>.</p>
<pre><code class="lang-cs">var weightedSelector = items.ToWeightedSelector(
    item =&gt; item.weight,
    WeightedSelectMethod.Binary // Use the binary search algorithm.
);
</code></pre><p>All <code>ToWeightedSelector</code> methods can specify <code>IWeightedSelectMethod</code>.</p>
<p>If this is not specified, the linear scan algorithm will be used automatically.</p>
<h3 id="a-idlinear-scan-hreflinear-scan-linear-scan-weightedselectmethodlinear-a"><a id="linear-scan" href="#linear-scan"> Linear Scan (<code>WeightedSelectMethod.Linear</code>) </a></h3>
<p>The simplest algorithm that walks linearly along the weights.
This method is an <code>O(n)</code> operation, where <code>n</code> is number of weights.</p>
<h3 id="a-idbinary-search-hrefbinary-search-binary-search-weightedselectmethodbinary-a"><a id="binary-search" href="#binary-search"> Binary Search (<code>WeightedSelectMethod.Binary</code>) </a></h3>
<p>The binary search algorithm that is faster than linear scan by preprocessing to store the current sum of weights.</p>
<p>It has an additional storage cost of <code>O(n)</code>, but is accelerated by up to <code>O(log(n))</code> for each selection, where <code>n</code> is number of weights.</p>
<h3 id="a-idalias-method-hrefalias-method-alias-method-weightedselectmethodalias-a"><a id="alias-method" href="#alias-method"> Alias Method (<code>WeightedSelectMethod.Alias</code>) </a></h3>
<p>The fastest algorithm.</p>
<p>It takes <code>O(n)</code> run time to set up, but the selection is performed in <code>O(1)</code> run time,
where <code>n</code> is number of weights.</p>
<p>Therefore, this is a very effective algorithm for selecting multiple items.</p>
<h2 id="a-idspeed-measurement-hrefspeed-measurement-speed-measurement-a"><a id="speed-measurement" href="#speed-measurement"> Speed Measurement </a></h2>
<h3 id="a-id1-items-href1-items-1-items-a"><a id="1-items" href="#1-items"> 1 items </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739858-60f05a16-6e3b-42f6-b7f2-b4b106eb3dfa.png" alt="Speed measurement of Weighted Random Selection Algorithms  (1 items)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.0104ms</td>
<td style="text-align:left"><strong>0.0055ms</strong></td>
<td style="text-align:left"><strong>0.0081ms</strong></td>
<td style="text-align:left"><strong>0.0393ms</strong></td>
<td style="text-align:left"><strong>0.3408ms</strong></td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0091ms</td>
<td style="text-align:left">0.0083ms</td>
<td style="text-align:left">0.0126ms</td>
<td style="text-align:left">0.0659ms</td>
<td style="text-align:left">0.5944ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left"><strong>0.0069ms</strong></td>
<td style="text-align:left">0.0065ms</td>
<td style="text-align:left">0.01ms</td>
<td style="text-align:left">0.0459ms</td>
<td style="text-align:left">0.4094ms</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.0155ms</td>
<td style="text-align:left"><strong>0.0064ms</strong></td>
<td style="text-align:left"><strong>0.0077ms</strong></td>
<td style="text-align:left"><strong>0.0381ms</strong></td>
<td style="text-align:left"><strong>0.353ms</strong></td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0077ms</td>
<td style="text-align:left">0.008ms</td>
<td style="text-align:left">0.0123ms</td>
<td style="text-align:left">0.0659ms</td>
<td style="text-align:left">0.5919ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left"><strong>0.0062ms</strong></td>
<td style="text-align:left">0.0065ms</td>
<td style="text-align:left">0.01ms</td>
<td style="text-align:left">0.0462ms</td>
<td style="text-align:left">0.41ms</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.009ms</td>
<td style="text-align:left"><strong>0.0053ms</strong></td>
<td style="text-align:left"><strong>0.0081ms</strong></td>
<td style="text-align:left"><strong>0.0378ms</strong></td>
<td style="text-align:left"><strong>0.3388ms</strong></td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0073ms</td>
<td style="text-align:left">0.0079ms</td>
<td style="text-align:left">0.0129ms</td>
<td style="text-align:left">0.0653ms</td>
<td style="text-align:left">0.5927ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left"><strong>0.0054ms</strong></td>
<td style="text-align:left">0.0062ms</td>
<td style="text-align:left">0.0104ms</td>
<td style="text-align:left">0.0461ms</td>
<td style="text-align:left">0.4194ms</td>
</tr>
</tbody>
</table>
<h3 id="a-id10-items-href10-items-10-items-a"><a id="10-items" href="#10-items"> 10 items </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739862-bddbf2d2-6075-4d4e-bfc7-9ccd2f8fdbb3.png" alt="Speed measurement of Weighted Random Selection Algorithms  (10 items)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.0113ms</td>
<td style="text-align:left"><strong>0.0077ms</strong></td>
<td style="text-align:left">0.0182ms</td>
<td style="text-align:left">0.1219ms</td>
<td style="text-align:left">1.19ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left"><strong>0.0109ms</strong></td>
<td style="text-align:left">0.0114ms</td>
<td style="text-align:left">0.0237ms</td>
<td style="text-align:left">0.158ms</td>
<td style="text-align:left">1.4975ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.0136</td>
<td style="text-align:left">0.022ms</td>
<td style="text-align:left"><strong>0.0151ms</strong></td>
<td style="text-align:left"><strong>0.0601ms</strong></td>
<td style="text-align:left"><strong>0.5041ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.012ms</td>
<td style="text-align:left"><strong>0.0072ms</strong></td>
<td style="text-align:left">0.0174ms</td>
<td style="text-align:left">0.1272ms</td>
<td style="text-align:left">1.1738ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left"><strong>0.0095ms</strong></td>
<td style="text-align:left">0.0099ms</td>
<td style="text-align:left">0.023ms</td>
<td style="text-align:left">0.16ms</td>
<td style="text-align:left">1.5503ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.0141ms</td>
<td style="text-align:left">0.0104ms</td>
<td style="text-align:left"><strong>0.0148ms</strong></td>
<td style="text-align:left"><strong>0.0618ms</strong></td>
<td style="text-align:left"><strong>0.5235ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.0095ms</strong></td>
<td style="text-align:left"><strong>0.009ms</strong></td>
<td style="text-align:left">0.0179ms</td>
<td style="text-align:left">0.1216ms</td>
<td style="text-align:left">1.1503ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0096ms</td>
<td style="text-align:left">0.0103ms</td>
<td style="text-align:left">0.0225ms</td>
<td style="text-align:left">0.1572ms</td>
<td style="text-align:left">1.4991ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.0129ms</td>
<td style="text-align:left">0.0105ms</td>
<td style="text-align:left"><strong>0.015ms</strong></td>
<td style="text-align:left"><strong>0.0607ms</strong></td>
<td style="text-align:left"><strong>0.5176ms</strong></td>
</tr>
</tbody>
</table>
<h3 id="a-id100-items-href100-items-100-items-a"><a id="100-items" href="#100-items"> 100 items </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739863-d9a3338b-1a40-45bb-a292-9330b9414561.png" alt="Speed measurement of Weighted Random Selection Algorithms  (100 items)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.0201ms</strong></td>
<td style="text-align:left">0.024ms</td>
<td style="text-align:left">0.0822ms</td>
<td style="text-align:left">0.741ms</td>
<td style="text-align:left">7.2211ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0212ms</td>
<td style="text-align:left"><strong>0.0211ms</strong></td>
<td style="text-align:left">0.0433ms</td>
<td style="text-align:left">0.3118ms</td>
<td style="text-align:left">2.6434ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.0717ms</td>
<td style="text-align:left">0.0364ms</td>
<td style="text-align:left"><strong>0.0395ms</strong></td>
<td style="text-align:left"><strong>0.086ms</strong></td>
<td style="text-align:left"><strong>0.5462ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.0231ms</td>
<td style="text-align:left">0.0247ms</td>
<td style="text-align:left">0.0855ms</td>
<td style="text-align:left">0.7027ms</td>
<td style="text-align:left">7.0025ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left"><strong>0.0224ms</strong></td>
<td style="text-align:left"><strong>0.0231ms</strong></td>
<td style="text-align:left">0.0441ms</td>
<td style="text-align:left">0.2776ms</td>
<td style="text-align:left">2.6521ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">*0.039ms</td>
<td style="text-align:left">0.0358ms</td>
<td style="text-align:left"><strong>0.0405ms</strong></td>
<td style="text-align:left"><strong>0.0861ms</strong></td>
<td style="text-align:left"><strong>0.5561ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.0194ms</strong></td>
<td style="text-align:left">0.0232ms</td>
<td style="text-align:left">0.0892ms</td>
<td style="text-align:left">0.7582ms</td>
<td style="text-align:left">7.1886ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0206ms</td>
<td style="text-align:left"><strong>0.0218ms</strong></td>
<td style="text-align:left">0.0447ms</td>
<td style="text-align:left">0.2804ms</td>
<td style="text-align:left">2.6375ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.0376ms</td>
<td style="text-align:left">0.0381ms</td>
<td style="text-align:left"><strong>0.0413ms</strong></td>
<td style="text-align:left"><strong>0.0871ms</strong></td>
<td style="text-align:left"><strong>0.5728ms</strong></td>
</tr>
</tbody>
</table>
<h3 id="a-id1000-items-href1000-items-1000-items-a"><a id="1000-items" href="#1000-items"> 1000 items </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739880-c2da6789-126b-4d8b-8182-f3ee8f9936d5.png" alt="Speed measurement of Weighted Random Selection Algorithms  (1000 items)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.1147ms</strong></td>
<td style="text-align:left">0.1672ms</td>
<td style="text-align:left">0.7792ms</td>
<td style="text-align:left">6.7539ms</td>
<td style="text-align:left">66.8329ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.1205ms</td>
<td style="text-align:left"><strong>0.1183ms</strong></td>
<td style="text-align:left"><strong>0.1504ms</strong></td>
<td style="text-align:left">0.4758ms</td>
<td style="text-align:left">3.7755ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.2783ms</td>
<td style="text-align:left">0.2722ms</td>
<td style="text-align:left">0.2925ms</td>
<td style="text-align:left"><strong>0.3238ms</strong></td>
<td style="text-align:left"><strong>0.7824ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.1068ms</strong></td>
<td style="text-align:left">0.1717ms</td>
<td style="text-align:left">0.8331ms</td>
<td style="text-align:left">6.8282ms</td>
<td style="text-align:left">68.455ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.1217ms</td>
<td style="text-align:left"><strong>0.1173ms</strong></td>
<td style="text-align:left"><strong>0.1499ms</strong></td>
<td style="text-align:left">0.5026ms</td>
<td style="text-align:left">3.7627ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.2785ms</td>
<td style="text-align:left">0.2889ms</td>
<td style="text-align:left">0.2876ms</td>
<td style="text-align:left"><strong>0.3318ms</strong></td>
<td style="text-align:left"><strong>0.908ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>0.102ms</strong></td>
<td style="text-align:left">0.1636ms</td>
<td style="text-align:left">0.7271ms</td>
<td style="text-align:left">6.743ms</td>
<td style="text-align:left">66.4393ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.1241ms</td>
<td style="text-align:left"><strong>0.1208ms</strong></td>
<td style="text-align:left"><strong>0.1501ms</strong></td>
<td style="text-align:left">0.5216ms</td>
<td style="text-align:left">4.0165ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">0.2782ms</td>
<td style="text-align:left">0.2755ms</td>
<td style="text-align:left">0.2777ms</td>
<td style="text-align:left"><strong>0.3454ms</strong></td>
<td style="text-align:left"><strong>0.8068ms</strong></td>
</tr>
</tbody>
</table>
<h3 id="a-id10000-items-href10000-items-10000-items-a"><a id="10000-items" href="#10000-items"> 10000 items </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739886-c0e4bbea-f3cc-4ece-9abe-6eed68597f0a.png" alt="Speed measurement of Weighted Random Selection Algorithms  (10000 items)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>1.1885ms</strong></td>
<td style="text-align:left">1.7971ms</td>
<td style="text-align:left">8.0482ms</td>
<td style="text-align:left">69.1749ms</td>
<td style="text-align:left">664.8696ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">1.3329ms</td>
<td style="text-align:left"><strong>1.3181ms</strong></td>
<td style="text-align:left"><strong>1.3454ms</strong></td>
<td style="text-align:left"><strong>1.7735ms</strong></td>
<td style="text-align:left">6.1215ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">2.8859ms</td>
<td style="text-align:left">2.8719ms</td>
<td style="text-align:left">2.8832ms</td>
<td style="text-align:left">2.9779ms</td>
<td style="text-align:left"><strong>3.4764ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>1.1676ms</strong></td>
<td style="text-align:left">1.6953ms</td>
<td style="text-align:left">8.0905ms</td>
<td style="text-align:left">70.1629ms</td>
<td style="text-align:left">668.3197ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">1.3118ms</td>
<td style="text-align:left"><strong>1.3361ms</strong></td>
<td style="text-align:left"><strong>1.3407ms</strong></td>
<td style="text-align:left"><strong>1.786ms</strong></td>
<td style="text-align:left">6.1105ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">2.8833ms</td>
<td style="text-align:left">2.934ms</td>
<td style="text-align:left">2.951ms</td>
<td style="text-align:left">2.9845ms</td>
<td style="text-align:left"><strong>3.6259ms</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left"><strong>1.3098ms</strong></td>
<td style="text-align:left">1.9826ms</td>
<td style="text-align:left">8.063ms</td>
<td style="text-align:left">68.9301ms</td>
<td style="text-align:left">666.9364ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">1.4456ms</td>
<td style="text-align:left"><strong>1.3787ms</strong></td>
<td style="text-align:left">4.6233ms</td>
<td style="text-align:left"><strong>1.7861ms</strong></td>
<td style="text-align:left">6.0783ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left">2.9751ms</td>
<td style="text-align:left">2.9144ms</td>
<td style="text-align:left"><strong>2.9236ms</strong></td>
<td style="text-align:left">2.9851ms</td>
<td style="text-align:left"><strong>3.5149ms</strong></td>
</tr>
</tbody>
</table>
<h3 id="a-id10000-items-href10000-items-10000-items-without-setup-a"><a id="10000-items" href="#10000-items"> 10000 items without setup </a></h3>
<p><img src="https://user-images.githubusercontent.com/13536348/127739890-3d5a1cd3-5b93-4151-a29d-c5e48507b15c.png" alt="Speed measurement of Weighted Random Selection Algorithms  (10000 items without setup)"></p>
<table>
<thead>
<tr>
<th style="text-align:left">Iterations</th>
<th style="text-align:left">1</th>
<th style="text-align:left">10</th>
<th style="text-align:left">100</th>
<th style="text-align:left">1000</th>
<th style="text-align:left">10000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Linear Scan</td>
<td style="text-align:left">0.0207ms</td>
<td style="text-align:left">0.7364ms</td>
<td style="text-align:left">6.5433ms</td>
<td style="text-align:left">67.3963ms</td>
<td style="text-align:left">671.3184ms</td>
</tr>
<tr>
<td style="text-align:left">Binary Search</td>
<td style="text-align:left">0.0015ms</td>
<td style="text-align:left">0.0055ms</td>
<td style="text-align:left">0.0492ms</td>
<td style="text-align:left">0.496ms</td>
<td style="text-align:left">4.828ms</td>
</tr>
<tr>
<td style="text-align:left">Alias Method</td>
<td style="text-align:left"><strong>0.0005ms</strong></td>
<td style="text-align:left"><strong>0.0011ms</strong></td>
<td style="text-align:left"><strong>0.0066ms</strong></td>
<td style="text-align:left"><strong>0.0579ms</strong></td>
<td style="text-align:left"><strong>0.5559ms</strong></td>
</tr>
</tbody>
</table>
<h1 id="a-idauthor-info-hrefauthor-info--author-info-a"><a id="author-info" href="#author-info"> 📔 Author Info </a></h1>
<p>Hiroya Aramaki is a indie game developer in Japan.</p>
<ul>
<li>Blog: <a href="https://mackysoft.net/blog">https://mackysoft.net/blog</a></li>
<li>Twitter: <a href="https://twitter.com/makihiro_dev">https://twitter.com/makihiro_dev</a></li>
</ul>
<h1 id="a-idlicense-hreflicense--license-a"><a id="license" href="#license"> 📜 License </a></h1>
<p>This library is under the MIT License.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Choice - Weighted random selector for Unity
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
